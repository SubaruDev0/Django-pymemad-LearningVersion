{% extends 'base_landing.html' %}
{% load static %}
{% load i18n %}
{% block title %}{% trans "Contraseña actualizada - PymeMad" %}{% endblock %}
{% block description %}{% trans "Tu contraseña ha sido actualizada exitosamente" %}{% endblock %}
{% block extra_css %}
<style>
    /* Reset para página */
    body {
        overflow-x: hidden;
    }
    /* Ocultar header y footer del base template */
    .page-wrapper > header,
    .page-wrapper > footer,
    .btn-scroll-top {
        display: none !important;
    }
    /* Contenedor principal */
    .complete-page {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 2rem;
    }
    /* Contenedor del mensaje */
    .complete-wrapper {
        width: 100%;
        max-width: 526px;
        background: white;
        padding: 3rem 2.5rem;
        border-radius: 0.5rem;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        text-align: center;
    }
    .brand-logo {
        max-width: 180px;
        height: auto;
        margin-bottom: 2rem;
    }
    .success-icon {
        width: 100px;
        height: 100px;
        margin: 0 auto 2rem;
        background: #10b981;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        animation: pulse 2s infinite;
    }
    .success-icon i {
        color: white;
        font-size: 3rem;
    }
    @keyframes pulse {
        0% {
            box-shadow: 0 0 0 0 rgba(44, 85, 48, 0.7);
        }
        70% {
            box-shadow: 0 0 0 20px rgba(44, 85, 48, 0);
        }
        100% {
            box-shadow: 0 0 0 0 rgba(44, 85, 48, 0);
        }
    }
    .confetti {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        pointer-events: none;
        overflow: hidden;
    }
    .confetti-piece {
        position: absolute;
        width: 10px;
        height: 10px;
        background: #2c5530;
        animation: confetti-fall 3s linear;
    }
    @keyframes confetti-fall {
        to {
            transform: translateY(100vh) rotate(360deg);
            opacity: 0;
        }
    }
</style>
{% endblock %}
{% block header %}{% endblock %}
{% block content %}
<div class="complete-page">
    <div class="complete-wrapper position-relative">
        <!-- Confetti animation -->
        <div class="confetti" id="confetti-container"></div>
        <!-- Logo -->
        <div class="text-center">
            <img src="{% static 'assets/img/logo_pymemad.webp' %}" alt="PymeMad" class="brand-logo">
        </div>
        <!-- Icono de éxito -->
        <div class="success-icon">
            <i class="ai-check"></i>
        </div>
        <!-- Mensaje -->
        <h1 class="h3 mb-3">{% trans "¡Contraseña actualizada!" %}</h1>
        <p class="text-muted mb-4">
            {% trans "Tu contraseña ha sido cambiada exitosamente. Ya puedes iniciar sesión con tu nueva contraseña." %}
        </p>
        <div class="alert alert-success mb-4">
            <i class="ai-check-circle me-2"></i>
            {% trans "Tu cuenta está segura y lista para usar." %}
        </div>
        <!-- Botón para ir al login -->
        <div class="d-grid">
            <a href="{% url 'accounts:login' %}" class="btn btn-lg btn-primary">
                <i class="ai-log-in me-2"></i>
                {% trans "Iniciar sesión" %}
            </a>
        </div>
        <!-- Tips de seguridad -->
        <div class="mt-4 pt-3 border-top">
            <h6 class="text-muted mb-2">
                <i class="ai-info-circle me-1"></i>
                {% trans "Tips de seguridad:" %}
            </h6>
            <ul class="list-unstyled text-start text-muted small">
                <li><i class="ai-check text-success me-1"></i> {% trans "Usa contraseñas únicas para cada cuenta" %}</li>
                <li><i class="ai-check text-success me-1"></i> {% trans "Activa la autenticación de dos factores si está disponible" %}</li>
                <li><i class="ai-check text-success me-1"></i> {% trans "Nunca compartas tu contraseña con nadie" %}</li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}
{% block footer %}{% endblock %}
{% block extra_js %}
<script>
// Animación de confetti
document.addEventListener('DOMContentLoaded', function() {
    const container = document.getElementById('confetti-container');
    const colors = ['#2c5530', '#1e3a21', '#10b981', '#f59e0b', '#4ade80'];
    // Crear confetti
    for (let i = 0; i < 50; i++) {
        setTimeout(() => {
            const confetti = document.createElement('div');
            confetti.className = 'confetti-piece';
            confetti.style.left = Math.random() * 100 + '%';
            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            confetti.style.animationDelay = Math.random() * 0.5 + 's';
            confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
            container.appendChild(confetti);
            // Remover después de la animación
            setTimeout(() => confetti.remove(), 4000);
        }, i * 30);
    }
});
</script>
{% endblock %}